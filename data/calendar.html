<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">

    <link rel="stylesheet" href="css/style.css"/>
    <link rel="stylesheet" href="css/persian-datepicker-0.4.5.css"/>
    <script src="js/jquery.js"></script>
    <script src="js/persian-date-0.1.8.js"></script>
    <script src="js/persian-datepicker-0.4.5.js"></script>


    <script type="text/javascript">
        $(document).ready(function() {
            $('.calendar_widget').pDatepicker({
                observer: true,
                altField: '.calendar_selected',
                persianDigit: true,
                formatter: function (unixDate) {
                    var self = this;
                    var pdate = new persianDate(unixDate);
                    pdate.formatPersian = true;
                    return pdate.format(self.format);
                }
            });
        });



    </script>
</head>
<body>
<div class="content">
    <p class="calendar_widget"></p>

    <input type="hidden" class="calendar_selected"/>

    <p class="full_date_persian"></p>
    <p class="full_date_gregorian"></p>
</div>

<script type="text/javascript">
    $('.calendar_selected').change(function() {

        var selected = new Date( parseInt( $('.calendar_selected').val() ) );

        var fullDatePersian = selected.toLocaleDateString("fa-IR");
        fullDatePersian = fullDatePersian.substring(0, fullDatePersian.length - 6);
        $('.full_date_persian').text(fullDatePersian);

        var fullDateGregorian = selected.getFullYear() + '/' +  (selected.getMonth() + 1) + '/' + selected.getDate();
        $('.full_date_gregorian').text(fullDateGregorian);

    });

</script>
</body>
</html>